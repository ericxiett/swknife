#!/bin/bash
#Testing ip ping
cat >/tmp/iplist.dat <<EOF
10.2.16.21
10.2.16.22
10.2.16.23
10.2.16.24
10.2.16.25
10.2.16.26
10.2.16.27
10.2.16.28
10.2.16.29
10.2.16.30
10.2.16.31
10.2.16.32
10.2.16.33
10.2.16.34
10.2.16.35
10.2.16.36
10.2.16.37
10.2.16.38
10.2.16.39
10.2.16.40
10.2.16.41
10.2.16.42
10.2.16.43
10.2.16.44
10.2.16.45
10.2.16.46
10.2.16.47
10.2.16.48
10.2.16.49
10.2.16.11
10.2.16.12
EOF

while read line
do
ping -c 3 ${line}| grep -q "ttl=" && echo "The ping result:${line} yes" || echo " The ping result:${line} no"
done </tmp/iplist.dat